{"version":3,"sources":["components/TimeAgo/TimeAgo.jsx","components/Posts/Posts.module.scss","components/Posts/Posts.jsx"],"names":["TimeAgo","timestamp","timeAgo","date","parseISO","formatDistanceToNow","addSuffix","locale","ruLocale","module","exports","Posts","dispatch","useDispatch","posts","useSelector","state","useEffect","getPostsThunk","className","length","Preloading","map","post","id","title","text","name","to","styles","substr"],"mappings":"wKAgBeA,IAZC,SAAC,GAAmB,IAAjBC,EAAgB,EAAhBA,UACbC,EAAU,GACd,GAAID,EAAW,CACb,IAAME,EAAOC,YAASH,GACtBC,EAAUG,YAAoBF,EAAM,CAAEG,WAAW,EAAMC,OAAQC,MAGjE,OACE,+BAAON,M,0CCXXO,EAAOC,QAAU,CAAC,KAAO,oBAAoB,WAAa,0BAA0B,UAAY,yBAAyB,UAAY,yBAAyB,cAAgB,+B,6HC+C/JC,UApCD,WACV,IAAMC,EAAWC,cACXC,EAAQC,aAAY,SAAAC,GAAK,OAAIA,EAAMF,MAAMA,SAQ/C,OALAG,qBAAU,WACNL,EAASM,OACV,IAIC,gCAEI,qBAAKC,UAAU,aAAf,+DAEIL,GAA0B,IAAjBA,EAAMM,OACT,cAACC,EAAA,EAAD,IACAP,EAAMQ,KAAI,SAAAC,GAAS,IACbC,EAAgCD,EAAhCC,GAAIC,EAA4BF,EAA5BE,MAAOC,EAAqBH,EAArBG,KAAMC,EAAeJ,EAAfI,KAAMxB,EAASoB,EAATpB,KAE/B,OACI,eAAC,IAAD,CAAMyB,GAAE,gBAAWJ,GAAML,UAAWU,OAApC,UACI,qBAAKV,UAAWU,aAAhB,SAAoCJ,IACpC,qBAAKN,UAAWU,YAAhB,SAAmCH,EAAKN,OAAS,IAAd,UAAuBM,EAAKI,OAAO,EAAG,KAAtC,OAAkDJ,IACrF,sBAAKP,UAAWU,YAAhB,UACI,iCAAOF,EAAP,QACA,cAAC3B,EAAA,EAAD,CAASC,UAAWE,SAL0BqB","file":"static/js/5.4ef394e1.chunk.js","sourcesContent":["import React from 'react'\r\nimport { parseISO, formatDistanceToNow } from 'date-fns'\r\nimport { ru as ruLocale } from 'date-fns/locale'\r\n\r\nconst TimeAgo = ({ timestamp }) => {\r\n  let timeAgo = ''\r\n  if (timestamp) {\r\n    const date = parseISO(timestamp)\r\n    timeAgo = formatDistanceToNow(date, { addSuffix: true, locale: ruLocale })\r\n  }\r\n\r\n  return (\r\n    <span>{timeAgo}</span>\r\n  )\r\n}\r\n\r\nexport default TimeAgo\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Posts_post__1e7bF\",\"post_title\":\"Posts_post_title__4PMvg\",\"post_text\":\"Posts_post_text__2_Mh2\",\"post_info\":\"Posts_post_info__3ZtXJ\",\"preload_posts\":\"Posts_preload_posts__2X9Aj\"};","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { getPostsThunk } from '../../redux/reducers/postsReducer'\r\nimport TimeAgo from '../TimeAgo/TimeAgo'\r\nimport AddPosts from '../AddPost/AddPost'\r\nimport Preloading from '../Preloading/Preloading'\r\nimport * as styles from './Posts.module.scss'\r\n\r\n\r\nconst Posts = () => {\r\n    const dispatch = useDispatch()\r\n    const posts = useSelector(state => state.posts.posts)\r\n\r\n\r\n    useEffect(() => {\r\n        dispatch(getPostsThunk)\r\n    }, [])\r\n\r\n\r\n    return (\r\n        <div>\r\n            {/* <AddPosts /> */}\r\n            <div className=\"main-title\">Все посты</div>\r\n            {\r\n                posts && posts.length === 0\r\n                    ? <Preloading />\r\n                    : posts.map(post => {\r\n                    const { id, title, text, name, date } = post\r\n\r\n                    return (\r\n                        <Link to={`posts/${id}`} className={styles.post} key={id}>\r\n                            <div className={styles.post_title}>{title}</div>\r\n                            <div className={styles.post_text}>{text.length > 100 ? `${text.substr(0, 100)}...` : text}</div>\r\n                            <div className={styles.post_info}>\r\n                                <span>{name}, </span>\r\n                                <TimeAgo timestamp={date}/>\r\n                            </div>\r\n                        </Link>\r\n                    )\r\n                })\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Posts"],"sourceRoot":""}