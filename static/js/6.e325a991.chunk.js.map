{"version":3,"sources":["components/TimeAgo/TimeAgo.jsx","components/Posts/Posts.module.scss","components/AddPost/AddPost.module.scss","components/AddPost/AddPost.jsx","components/PostReaction/PostReaction.jsx","assets/icons.js","components/Posts/Posts.jsx"],"names":["TimeAgo","timestamp","timeAgo","date","parseISO","formatDistanceToNow","addSuffix","locale","ruLocale","module","exports","renderTextField","label","input","custom","maxlength","TextField","autoComplete","required","AddPostForm","handleSubmit","stylesInput","InputStyle","stylesButton","ButtonStyle","className","styles","onSubmit","Field","name","root","component","type","variant","multiline","Button","outlineBlue","reduxForm","form","AddPost","dispatch","useDispatch","formData","newPost","Date","toISOString","marks","slight_smile","heart_eyes","laughing","astonished","sob","PostAddedThunk","smilesArr","viewBox","enableBackground","cx","cy","r","fill","d","rx","ry","PostReaction","id","stylesSmileButton","smileButtons","Object","entries","map","index","key","value","smile","onClick","e","reactionAddedThunk","number","Posts","posts","useSelector","state","history","useHistory","useEffect","getPostsThunk","console","log","length","Preloading","post","title","text","target","classList","contains","push","onClickPost","substr"],"mappings":"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","file":"static/js/6.e325a991.chunk.js","sourcesContent":["import React from 'react'\r\nimport { parseISO, formatDistanceToNow } from 'date-fns'\r\nimport { ru as ruLocale } from 'date-fns/locale'\r\n\r\nconst TimeAgo = ({ timestamp }) => {\r\n  let timeAgo = ''\r\n  if (timestamp) {\r\n    const date = parseISO(timestamp)\r\n    timeAgo = formatDistanceToNow(date, { addSuffix: true, locale: ruLocale })\r\n  }\r\n\r\n  return (\r\n    <span>{timeAgo}</span>\r\n  )\r\n}\r\n\r\nexport default TimeAgo\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Posts_post__1e7bF\",\"post_title\":\"Posts_post_title__4PMvg\",\"post_text\":\"Posts_post_text__2_Mh2\",\"post_info\":\"Posts_post_info__3ZtXJ\",\"post_reaction\":\"Posts_post_reaction__N6hIE\",\"preload_posts\":\"Posts_preload_posts__2X9Aj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"AddPost_form__3anjj\"};","import React from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport { TextField, Button } from '@material-ui/core/'\r\n\r\nimport { InputStyle, ButtonStyle } from '../MaterialStyles'\r\nimport * as styles from './AddPost.module.scss'\r\nimport { PostAddedThunk } from '../../redux/reducers/postsReducer'\r\n\r\nconst renderTextField = ({ label, input, maxlength, ...custom }) =>  <TextField label={label} autoComplete=\"off\" {...input} {...custom} required/>\r\n\r\nlet AddPostForm = ({ handleSubmit }) => {\r\n    const stylesInput = InputStyle()\r\n    const stylesButton = ButtonStyle()\r\n\r\n    return (\r\n        <form className={styles.form} onSubmit={ handleSubmit } >\r\n            <div className=\"main-title\">Добавление поста</div>\r\n            <Field name=\"name\" className={stylesInput.root} component={renderTextField} type=\"text\" label=\"Автор\" variant=\"outlined\" />\r\n            <Field name=\"title\" className={stylesInput.root} component={renderTextField} type=\"text\" label=\"Заголовок\" variant=\"outlined\" />\r\n            <Field name=\"text\" className={stylesInput.root} component={renderTextField} multiline label=\"Текст\" variant=\"outlined\" />\r\n            <Button type=\"submit\" className={`${stylesButton.root} ${stylesButton.outlineBlue} ${styles.error_post_button}`}>Отправить</Button>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst AddPost = () => {\r\n    const dispatch = useDispatch()\r\n\r\n    const handleSubmit = (formData) => {\r\n        const newPost = {\r\n            ...formData,\r\n            date: new Date().toISOString(),\r\n            marks: {\r\n                slight_smile: 0, \r\n                heart_eyes: 0, \r\n                laughing: 0, \r\n                astonished: 0, \r\n                sob: 0\r\n            }\r\n        }\r\n        dispatch(PostAddedThunk(newPost))\r\n    }\r\n\r\n    return <AddPostForm onSubmit={ handleSubmit } />\r\n}\r\n\r\n\r\nAddPostForm = reduxForm({form: 'add-post'})(AddPostForm)\r\n\r\nexport default AddPost","import React from 'react'\r\nimport Button from '@material-ui/core/Button'\r\nimport { useDispatch } from 'react-redux'\r\n\r\n\r\nimport * as styles from '../Posts/Posts.module.scss'\r\nimport { ButtonStyle } from '../MaterialStyles'\r\nimport { reactionAddedThunk } from '../../redux/reducers/postsReducer'\r\nimport { slight_smile, heart_eyes, laughing, astonished, sob } from '../../assets/icons'\r\n\r\nconst smilesArr = {slight_smile, heart_eyes, laughing, astonished, sob}\r\n\r\n\r\nconst PostReaction = ({ marks, id }) => {\r\n    const stylesSmileButton = ButtonStyle()\r\n    const dispatch = useDispatch()\r\n\r\n    const smileButtons = Object.entries(smilesArr).map(([key, value], index) => <Button key={index} className={`${styles.post_reaction_button} ${stylesSmileButton.smile} reaction-target`} onClick={e => dispatch(reactionAddedThunk(id, { name: key, number: marks[key] }))}>{value} {marks[key]}</Button>)\r\n\r\n    return (\r\n        <div className={styles.post_reaction}>\r\n            {smileButtons}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PostReaction","import React from 'react'\r\n\r\nexport const slight_smile = (<svg viewBox=\"0 0 64 64\" enableBackground=\"new 0 0 64 64\"><circle cx=\"32\" cy=\"32\" r=\"30\" fill=\"#ffdd67\"></circle><g fill=\"#664e27\"><circle cx=\"20.5\" cy=\"26.6\" r=\"5\"></circle><circle cx=\"43.5\" cy=\"26.6\" r=\"5\"></circle><path d=\"m44.6 40.3c-8.1 5.7-17.1 5.6-25.2 0-1-.7-1.8.5-1.2 1.6 2.5 4 7.4 7.7 13.8 7.7s11.3-3.6 13.8-7.7c.6-1.1-.2-2.3-1.2-1.6\"></path></g></svg>)\r\nexport const heart_eyes = (<svg viewBox=\"0 0 64 64\" enableBackground=\"new 0 0 64 64\"><path d=\"M62,32c0,16.6-13.4,30-30,30C15.4,62,2,48.6,2,32C2,15.4,15.4,2,32,2C48.6,2,62,15.4,62,32z\" fill=\"#ffdd67\"></path><g fill=\"#f46767\"><path d=\"m61.8 13.2c-.5-2.7-2-4.9-4.5-5.6-2.7-.7-5.1.3-7.4 2.7-1.3-3.6-3.3-6.3-6.5-7.7-3.2-1.4-6.4-.4-8.4 2.1-2.1 2.6-2.9 6.7-.7 12 2.1 5 11.4 15 11.7 15.3.4-.2 10.8-6.7 13.3-9.9 2.5-3.1 3-6.2 2.5-8.9\"></path><path d=\"m29 4.7c-2-2.5-5.2-3.5-8.4-2.1-3.2 1.4-5.2 4.1-6.5 7.7-2.4-2.3-4.8-3.4-7.5-2.6-2.4.7-4 2.9-4.5 5.6-.5 2.6.1 5.8 2.5 8.9 2.6 3.1 13 9.6 13.4 9.8.3-.3 9.6-10.3 11.7-15.3 2.2-5.3 1.4-9.3-.7-12\"></path></g><path d=\"m49 38.1c0-.8-.5-1.8-1.8-2.1-3.5-.7-8.6-1.3-15.2-1.3-6.6 0-11.7.7-15.2 1.3-1.4.3-1.8 1.3-1.8 2.1 0 7.3 5.6 14.6 17 14.6 11.4-.1 17-7.4 17-14.6\" fill=\"#664e27\"></path><path d=\"m44.7 38.3c-2.2-.4-6.8-1-12.7-1-5.9 0-10.5.6-12.7 1-1.3.2-1.4.7-1.3 1.5.1.4.1 1 .3 1.6.1.6.3.9 1.3.8 1.9-.2 23-.2 24.9 0 1 .1 1.1-.2 1.3-.8.1-.6.2-1.1.3-1.6 0-.8-.1-1.3-1.4-1.5\" fill=\"#fff\"></path></svg>)\r\nexport const laughing = (<svg viewBox=\"0 0 64 64\" enableBackground=\"new 0 0 64 64\"><circle cx=\"32\" cy=\"32\" r=\"30\" fill=\"#ffdd67\"></circle><g fill=\"#664e27\"><path d=\"m51.7 19.4c.6.3.3 1-.2 1.1-2.7.4-5.5.9-8.3 2.4 4 .7 7.2 2.7 9 4.8.4.5-.1 1.1-.5 1-4.8-1.7-9.7-2.7-15.8-2-.5 0-.9-.2-.8-.7 1.6-7.3 10.9-10 16.6-6.6\"></path><path d=\"m12.3 19.4c-.6.3-.3 1 .2 1.1 2.7.4 5.5.9 8.3 2.4-4 .7-7.2 2.7-9 4.8-.4.5.1 1.1.5 1 4.8-1.7 9.7-2.7 15.8-2 .5 0 .9-.2.8-.7-1.6-7.3-10.9-10-16.6-6.6\"></path><path d=\"m49.7 34.4c-.4-.5-1.1-.4-1.9-.4-15.8 0-15.8 0-31.6 0-.8 0-1.5-.1-1.9.4-3.9 5 .7 19.6 17.7 19.6 17 0 21.6-14.6 17.7-19.6\"></path></g><path d=\"m33.8 41.7c-.6 0-1.5.5-1.1 2 .2.7 1.2 1.6 1.2 2.8 0 2.4-3.8 2.4-3.8 0 0-1.2 1-2 1.2-2.8.3-1.4-.6-2-1.1-2-1.6 0-4.1 1.7-4.1 4.6 0 3.2 2.7 5.8 6 5.8s6-2.6 6-5.8c-.1-2.8-2.7-4.5-4.3-4.6\" fill=\"#4c3526\"></path><path d=\"m24.3 50.7c2.2 1 4.8 1.5 7.7 1.5s5.5-.6 7.7-1.5c-2.1-1.1-4.7-1.7-7.7-1.7s-5.6.6-7.7 1.7\" fill=\"#ff717f\"></path><path d=\"m47 36c-15 0-15 0-29.9 0-2.1 0-2.1 4-.1 4 10.4 0 19.6 0 30 0 2 0 2-4 0-4\" fill=\"#fff\"></path></svg>)\r\nexport const astonished = (<svg viewBox=\"0 0 64 64\" enableBackground=\"new 0 0 64 64\"><circle cx=\"32\" cy=\"32\" r=\"30\" fill=\"#ffdd67\"></circle><circle cx=\"19\" cy=\"29\" r=\"11\" fill=\"#fff\"></circle><path d=\"m24 29c0 2.8-2.2 5-5 5-2.8 0-5-2.2-5-5s2.2-5 5-5c2.8 0 5 2.2 5 5\" fill=\"#664e27\"></path><path d=\"m56 29c0 6.1-4.9 11-11 11-6.1 0-11-4.9-11-11 0-6.1 4.9-11 11-11 6.1 0 11 4.9 11 11\" fill=\"#fff\"></path><path d=\"m50 29c0 2.8-2.2 5-5 5-2.8 0-5-2.2-5-5s2.2-5 5-5c2.8 0 5 2.2 5 5\" fill=\"#664e27\"></path><g fill=\"#917524\"><path d=\"m50.2 15.8c-3.2-2.7-7.5-3.9-11.7-3.1-.6.1-1.1-2-.4-2.2 4.8-.9 9.8.5 13.5 3.6.6.5-1 2.1-1.4 1.7\"></path><path d=\"m25.5 12.5c-4.2-.7-8.5.4-11.7 3.1-.4.4-2-1.2-1.4-1.7 3.7-3.2 8.7-4.5 13.5-3.6.7.2.2 2.3-.4 2.2\"></path></g><circle cx=\"32\" cy=\"49\" r=\"9\" fill=\"#664e27\"></circle><path d=\"m26 46c1.2-2.4 3.4-4 6-4 2.6 0 4.8 1.6 6 4h-12\" fill=\"#fff\"></path></svg>)\r\nexport const sob = (<svg viewBox=\"0 0 64 64\" enableBackground=\"new 0 0 64 64\"><g fill=\"#65b1ef\"><ellipse cx=\"17.5\" cy=\"59.9\" rx=\"12.5\" ry=\"1.5\"></ellipse><ellipse cx=\"44\" cy=\"60.2\" rx=\"18\" ry=\"1.8\"></ellipse></g><circle cx=\"32\" cy=\"32\" r=\"30\" fill=\"#ffdd67\"></circle><path d=\"m44.7 46c-1.4-3.6-4.8-6-12.7-6-8 0-11.3 2.4-12.7 6-.7 1.9.3 5 .3 5 1.3 3.9 1.1 5 12.4 5 11.3 0 11.1-1.1 12.4-5 0 0 1.1-3.1.3-5\" fill=\"#664e27\"></path><path d=\"m41 45c.1-.3 0-.6-.2-.8 0 0-2-2.2-8.8-2.2-6.8 0-8.8 2.2-8.8 2.2-.2.1-.2.5-.2.8l.2.6c.1.3.3.5.5.5h16.6c.2 0 .5-.2.5-.5l.2-.6\" fill=\"#fff\"></path><g fill=\"#65b1ef\"><path d=\"m44.5 60.5c2.3 0 4.6 0 6.8 0 8.2-9.9-1.5-20 .9-29.8-2.3 0-4.6 2.5-6.8 2.5-3.2 9.5 7.3 17.4-.9 27.3\"></path><path d=\"m19.5 60.5c-2.3 0-4.6 0-6.8 0-8.2-9.9 1.5-20-.9-29.8 2.3 0 4.6 2.5 6.8 2.5 3.2 9.5-7.3 17.4.9 27.3\"></path></g><g fill=\"#917524\"><path d=\"m40.7 18.3c3 3 7.2 4.5 11.4 4.1.6-.1.9 2.1.2 2.2-4.9.4-9.7-1.3-13.1-4.8-.6-.5 1.1-1.9 1.5-1.5\"></path><path d=\"m12 22.4c4.2.4 8.4-1.1 11.4-4.1.4-.4 2.1 1 1.6 1.5-3.4 3.5-8.3 5.2-13.1 4.8-.9 0-.5-2.2.1-2.2\"></path></g><g fill=\"#664e27\"><path d=\"m35.9 30.3c4.2 8 12.7 8 16.9 0 .2-.4-.3-.6-1-1-4.2 3.3-11.1 3-14.9 0-.6.4-1.2.6-1 1\"></path><path d=\"m11.2 30.3c4.2 8 12.7 8 16.9 0 .2-.4-.3-.6-1-1-4.2 3.3-11.1 3-14.9 0-.7.4-1.2.6-1 1\"></path></g></svg>)","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nimport { getPostsThunk } from '../../redux/reducers/postsReducer'\r\nimport TimeAgo from '../TimeAgo/TimeAgo'\r\nimport AddPosts from '../AddPost/AddPost'\r\nimport Preloading from '../Preloading/Preloading'\r\nimport * as styles from './Posts.module.scss'\r\nimport PostReaction from '../PostReaction/PostReaction'\r\n\r\n\r\nconst Posts = () => {\r\n    const dispatch = useDispatch()\r\n    const posts = useSelector(state => state.posts.posts)\r\n    const history = useHistory()\r\n\r\n\r\n    useEffect(() => {\r\n        dispatch(getPostsThunk)\r\n    }, [])\r\n\r\n    console.log('posts render')\r\n\r\n    const onClickPost = (id, e) => {\r\n        if(!e.target.classList.contains('reaction-target')) {\r\n            history.push(`posts/${id}`)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <AddPosts />\r\n            <div className=\"main-title\">Все посты</div>\r\n            {\r\n                posts && posts.length === 0\r\n                    ? <Preloading />\r\n                    : posts.map(post => {\r\n                        const { id, title, text, name, date, marks } = post\r\n\r\n                        return (\r\n                            <div onClick={e => onClickPost(id, e)} className={styles.post} key={id}>\r\n                                <div className={styles.post_title}>{title}</div>\r\n                                <div className={styles.post_text}>{text.length > 130 ? `${text.substr(0, 130)}...` : text}</div>\r\n                                <div className={styles.post_info}>\r\n                                    <span>{name}, </span>\r\n                                    <TimeAgo timestamp={date}/>\r\n                                </div>\r\n                                <PostReaction marks={marks} id={id}/>\r\n                            </div>\r\n                        )\r\n                })\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Posts"],"sourceRoot":""}